---
title: "Command Line Interface"
---

```{bash}
#| include: false
# Set up PATH to include the scsv binary for examples
export PATH="../build:$PATH"
```

## Overview

The `scsv` command line tool provides a user-friendly way to work with CSV files using the high-performance simdcsv parser. It supports common operations like counting rows, displaying data, and selecting columns.

## Basic Usage

```bash
scsv <command> [options] <csvfile>
```

## Commands

| Command | Description |
|---------|-------------|
| `count` | Count the number of rows |
| `head` | Display the first N rows (default: 10) |
| `select` | Select specific columns by name or index |
| `info` | Display information about the CSV file |
| `pretty` | Pretty-print the CSV with aligned columns |

## Options

### General Options

| Option | Description |
|--------|-------------|
| `-h` | Show help message |
| `-v` | Show version information |

### Data Options

| Option | Description | Default |
|--------|-------------|---------|
| `-n <num>` | Number of rows (for head/pretty) | 10 |
| `-c <cols>` | Comma-separated column names or indices (for select) | - |
| `-H` | No header row in input | (header assumed) |

### Performance Options

| Option | Description | Default |
|--------|-------------|---------|
| `-t <threads>` | Number of threads | 1 |

### Dialect Options

| Option | Description | Default |
|--------|-------------|---------|
| `-d <delim>` | Field delimiter: `comma`, `tab`, `semicolon`, `pipe`, or any character | comma |
| `-q <char>` | Quote character | `"` |
| `-a` | Auto-detect dialect | off |

## Examples

The examples below use test data files from the simdcsv repository.

### Counting Rows

Count the number of data rows (excluding header):

```{bash}
scsv count ../test/data/real_world/contacts.csv
```

### Viewing First Rows

Display the first rows:

```{bash}
scsv head ../test/data/real_world/contacts.csv
```

Display the first 2 rows:

```{bash}
scsv head -n 2 ../test/data/real_world/contacts.csv
```

### Selecting Columns

Select columns by name:

```{bash}
scsv select -c Name,Email ../test/data/real_world/contacts.csv
```

Select columns by index (0-based):

```{bash}
scsv select -c 0,2 ../test/data/real_world/contacts.csv
```

### File Information

Display metadata about a CSV file:

```{bash}
scsv info ../test/data/real_world/contacts.csv
```

### Pretty Printing

Display CSV data in a formatted table:

```{bash}
scsv pretty ../test/data/real_world/contacts.csv
```

Limit to first 2 rows:

```{bash}
scsv pretty -n 2 ../test/data/real_world/contacts.csv
```

### Working with Different Delimiters

Parse a tab-separated file:

```{bash}
scsv count -d tab ../test/data/separators/tab.csv
```

Parse a semicolon-separated file (common in European locales):

```{bash}
scsv head -d semicolon ../test/data/separators/semicolon.csv
```

Parse a pipe-separated file:

```{bash}
scsv select -d pipe -c 0,1 ../test/data/separators/pipe.csv
```

### Auto-detecting Dialect

Let scsv detect the delimiter and quote character:

```{bash}
scsv info -a ../test/data/separators/semicolon.csv
```

### Multi-threaded Parsing

Use multiple threads for faster parsing of large files:

```{bash}
scsv count -t 4 ../test/data/real_world/contacts.csv
```

### Files Without Headers

When the CSV has no header row, use `-H`:

```{bash}
scsv count -H ../test/data/basic/simple_no_header.csv
```

```{bash}
scsv select -H -c 0,1,2 ../test/data/basic/simple_no_header.csv
```

## Performance Tips

1. **Thread count**: For large files (>1MB), use `-t` with the number of physical CPU cores for best performance.

2. **Row counting**: The `count` command uses an optimized SIMD algorithm that doesn't build a full index, making it very fast for counting rows.

3. **Auto-detection overhead**: Using `-a` (auto-detect) adds some overhead. If you know the file format, specify it explicitly with `-d`.

## Exit Codes

| Code | Meaning |
|------|---------|
| 0 | Success |
| 1 | Error (invalid arguments, file not found, or processing error) |
